/**
 * Copyright © 2024 Angular Primitives.
 * https://github.com/ng-primitives/ng-primitives
 *
 * This source code is licensed under the Apache 2.0 license found in the
 * LICENSE file in the root directory of this source tree.
 */
import { Directive, HostListener } from '@angular/core';
import { NgpFocusVisible, NgpHover, NgpPress } from 'ng-primitives/interactions';
import { injectSlider } from '../slider/slider.token';
import { NgpSliderThumbToken } from './slider-thumb.token';
import * as i0 from "@angular/core";
import * as i1 from "ng-primitives/interactions";
export class NgpSliderThumb {
    constructor() {
        /**
         * Access the slider.
         */
        this.slider = injectSlider();
        /**
         * Store the dragging state.
         */
        this.dragging = false;
    }
    handlePointerDown(event) {
        event.preventDefault();
        if (this.slider.disabled()) {
            return;
        }
        this.dragging = true;
    }
    handlePointerUp() {
        if (this.slider.disabled()) {
            return;
        }
        this.dragging = false;
    }
    handlePointerMove(event) {
        if (this.slider.disabled() || !this.dragging) {
            return;
        }
        const rect = this.slider.track()?.element.nativeElement.getBoundingClientRect();
        if (!rect) {
            return;
        }
        const percentage = this.slider.orientation() === 'horizontal'
            ? (event.clientX - rect.left) / rect.width
            : 1 - (event.clientY - rect.top) / rect.height;
        this.slider.value.set(this.slider.min() +
            (this.slider.max() - this.slider.min()) * Math.max(0, Math.min(1, percentage)));
    }
    /**
     * Handle keyboard events.
     * @param event
     */
    handleKeydown(event) {
        const multiplier = event.shiftKey ? 10 : 1;
        switch (event.key) {
            case 'ArrowLeft':
            case 'ArrowDown':
                this.slider.value.update(value => Math.max(value - this.slider.step() * multiplier, this.slider.min()));
                break;
            case 'ArrowRight':
            case 'ArrowUp':
                this.slider.value.update(value => Math.min(value + this.slider.step() * multiplier, this.slider.max()));
                break;
            case 'Home':
                this.slider.value.set(this.slider.min());
                break;
            case 'End':
                this.slider.value.set(this.slider.max());
                break;
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: NgpSliderThumb, deps: [], target: i0.ɵɵFactoryTarget.Directive }); }
    static { this.ɵdir = i0.ɵɵngDeclareDirective({ minVersion: "14.0.0", version: "18.2.13", type: NgpSliderThumb, isStandalone: true, selector: "[ngpSliderThumb]", host: { attributes: { "role": "slider" }, listeners: { "pointerdown": "handlePointerDown($event)", "document:pointerup": "handlePointerUp()", "document:pointermove": "handlePointerMove($event)", "keydown": "handleKeydown($event)" }, properties: { "attr.aria-valuemin": "slider.min()", "attr.aria-valuemax": "slider.max()", "attr.aria-valuenow": "slider.value()", "attr.aria-orientation": "slider.orientation()", "tabindex": "slider.disabled() ? -1 : 0", "attr.data-orientation": "slider.orientation()", "attr.data-disabled": "slider.disabled() ? \"\" : null", "style.inset-inline-start.%": "slider.orientation() === \"horizontal\" ? slider.percentage() : undefined", "style.inset-block-start.%": "slider.orientation() === \"vertical\" ? slider.percentage() : undefined" } }, providers: [{ provide: NgpSliderThumbToken, useExisting: NgpSliderThumb }], exportAs: ["ngpSliderThumb"], hostDirectives: [{ directive: i1.NgpHover }, { directive: i1.NgpFocusVisible }, { directive: i1.NgpPress }], ngImport: i0 }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.2.13", ngImport: i0, type: NgpSliderThumb, decorators: [{
            type: Directive,
            args: [{
                    standalone: true,
                    selector: '[ngpSliderThumb]',
                    exportAs: 'ngpSliderThumb',
                    providers: [{ provide: NgpSliderThumbToken, useExisting: NgpSliderThumb }],
                    host: {
                        role: 'slider',
                        '[attr.aria-valuemin]': 'slider.min()',
                        '[attr.aria-valuemax]': 'slider.max()',
                        '[attr.aria-valuenow]': 'slider.value()',
                        '[attr.aria-orientation]': 'slider.orientation()',
                        '[tabindex]': 'slider.disabled() ? -1 : 0',
                        '[attr.data-orientation]': 'slider.orientation()',
                        '[attr.data-disabled]': 'slider.disabled() ? "" : null',
                        '[style.inset-inline-start.%]': 'slider.orientation() === "horizontal" ? slider.percentage() : undefined',
                        '[style.inset-block-start.%]': 'slider.orientation() === "vertical" ? slider.percentage() : undefined',
                    },
                    hostDirectives: [NgpHover, NgpFocusVisible, NgpPress],
                }]
        }], propDecorators: { handlePointerDown: [{
                type: HostListener,
                args: ['pointerdown', ['$event']]
            }], handlePointerUp: [{
                type: HostListener,
                args: ['document:pointerup']
            }], handlePointerMove: [{
                type: HostListener,
                args: ['document:pointermove', ['$event']]
            }], handleKeydown: [{
                type: HostListener,
                args: ['keydown', ['$event']]
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2xpZGVyLXRodW1iLmRpcmVjdGl2ZS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3BhY2thZ2VzL25nLXByaW1pdGl2ZXMvc2xpZGVyL3NyYy9zbGlkZXItdGh1bWIvc2xpZGVyLXRodW1iLmRpcmVjdGl2ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0dBTUc7QUFDSCxPQUFPLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUN4RCxPQUFPLEVBQUUsZUFBZSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsTUFBTSw0QkFBNEIsQ0FBQztBQUNqRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sd0JBQXdCLENBQUM7QUFDdEQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7OztBQXVCM0QsTUFBTSxPQUFPLGNBQWM7SUFyQjNCO1FBc0JFOztXQUVHO1FBQ2dCLFdBQU0sR0FBRyxZQUFZLEVBQUUsQ0FBQztRQUUzQzs7V0FFRztRQUNPLGFBQVEsR0FBRyxLQUFLLENBQUM7S0EwRTVCO0lBdkVXLGlCQUFpQixDQUFDLEtBQW1CO1FBQzdDLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztRQUV2QixJQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQztZQUMzQixPQUFPO1FBQ1QsQ0FBQztRQUVELElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3ZCLENBQUM7SUFHUyxlQUFlO1FBQ3ZCLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDO1lBQzNCLE9BQU87UUFDVCxDQUFDO1FBRUQsSUFBSSxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUM7SUFDeEIsQ0FBQztJQUdTLGlCQUFpQixDQUFDLEtBQW1CO1FBQzdDLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFD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Z0IsRUFBRSxDQUFDO29CQUMxRSxJQUFJLEVBQUU7d0JBQ0osSUFBSSxFQUFFLFFBQVE7d0JBQ2Qsc0JBQXNCLEVBQUUsY0FBYzt3QkFDdEMsc0JBQXNCLEVBQUUsY0FBYzt3QkFDdEMsc0JBQXNCLEVBQUUsZ0JBQWdCO3dCQUN4Qyx5QkFBeUIsRUFBRSxzQkFBc0I7d0JBQ2pELFlBQVksRUFBRSw0QkFBNEI7d0JBQzFDLHlCQUF5QixFQUFFLHNCQUFzQjt3QkFDakQsc0JBQXNCLEVBQUUsK0JBQStCO3dCQUN2RCw4QkFBOEIsRUFDNUIseUVBQXlFO3dCQUMzRSw2QkFBNkIsRUFDM0IsdUVBQXVFO3FCQUMxRTtvQkFDRCxjQUFjLEVBQUUsQ0FBQyxRQUFRLEVBQUUsZUFBZSxFQUFFLFFBQVEsQ0FBQztpQkFDdEQ7OEJBYVcsaUJBQWlCO3NCQUQxQixZQUFZO3VCQUFDLGFBQWEsRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkFZN0IsZUFBZTtzQkFEeEIsWUFBWTt1QkFBQyxvQkFBb0I7Z0JBVXhCLGlCQUFpQjtzQkFEMUIsWUFBWTt1QkFBQyxzQkFBc0IsRUFBRSxDQUFDLFFBQVEsQ0FBQztnQkE0QnRDLGFBQWE7c0JBRHRCLFlBQVk7dUJBQUMsU0FBUyxFQUFFLENBQUMsUUFBUSxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgwqkgMjAyNCBBbmd1bGFyIFByaW1pdGl2ZXMuXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbmctcHJpbWl0aXZlcy9uZy1wcmltaXRpdmVzXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIDIuMCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICovXG5pbXBvcnQgeyBEaXJlY3RpdmUsIEhvc3RMaXN0ZW5lciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTmdwRm9jdXNWaXNpYmxlLCBOZ3BIb3ZlciwgTmdwUHJlc3MgfSBmcm9tICduZy1wcmltaXRpdmVzL2ludGVyYWN0aW9ucyc7XG5pbXBvcnQgeyBpbmplY3RTbGlkZXIgfSBmcm9tICcuLi9zbGlkZXIvc2xpZGVyLnRva2VuJztcbmltcG9ydCB7IE5ncFNsaWRlclRodW1iVG9rZW4gfSBmcm9tICcuL3NsaWRlci10aHVtYi50b2tlbic7XG5cbkBEaXJlY3RpdmUoe1xuICBzdGFuZGFsb25lOiB0cnVlLFxuICBzZWxlY3RvcjogJ1tuZ3BTbGlkZXJUaHVtYl0nLFxuICBleHBvcnRBczogJ25ncFNsaWRlclRodW1iJyxcbiAgcHJvdmlkZXJzOiBbeyBwcm92aWRlOiBOZ3BTbGlkZXJUaHVtYlRva2VuLCB1c2VFeGlzdGluZzogTmdwU2xpZGVyVGh1bWIgfV0sXG4gIGhvc3Q6IHtcbiAgICByb2xlOiAnc2xpZGVyJyxcbiAgICAnW2F0dHIuYXJpYS12YWx1ZW1pbl0nOiAnc2xpZGVyLm1pbigpJyxcbiAgICAnW2F0dHIuYXJpYS12YWx1ZW1heF0nOiAnc2xpZGVyLm1heCgpJyxcbiAgICAnW2F0dHIuYXJpYS12YWx1ZW5vd10nOiAnc2xpZGVyLnZhbHVlKCknLFxuICAgICdbYXR0ci5hcmlhLW9yaWVudGF0aW9uXSc6ICdzbGlkZXIub3JpZW50YXRpb24oKScsXG4gICAgJ1t0YWJpbmRleF0nOiAnc2xpZGVyLmRpc2FibGVkKCkgPyAtMSA6IDAnLFxuICAgICdbYXR0ci5kYXRhLW9yaWVudGF0aW9uXSc6ICdzbGlkZXIub3JpZW50YXRpb24oKScsXG4gICAgJ1thdHRyLmRhdGEtZGlzYWJsZWRdJzogJ3NsaWRlci5kaXNhYmxlZCgpID8gXCJcIiA6IG51bGwnLFxuICAgICdbc3R5bGUuaW5zZXQtaW5saW5lLXN0YXJ0LiVdJzpcbiAgICAgICdzbGlkZXIub3JpZW50YXRpb24oKSA9PT0gXCJob3Jpem9udGFsXCIgPyBzbGlkZXIucGVyY2VudGFnZSgpIDogdW5kZWZpbmVkJyxcbiAgICAnW3N0eWxlLmluc2V0LWJsb2NrLXN0YXJ0LiVdJzpcbiAgICAgICdzbGlkZXIub3JpZW50YXRpb24oKSA9PT0gXCJ2ZXJ0aWNhbFwiID8gc2xpZGVyLnBlcmNlbnRhZ2UoKSA6IHVuZGVmaW5lZCcsXG4gIH0sXG4gIGhvc3REaXJlY3RpdmVzOiBbTmdwSG92ZXIsIE5ncEZvY3VzVmlzaWJsZSwgTmdwUHJlc3NdLFxufSlcbmV4cG9ydCBjbGFzcyBOZ3BTbGlkZXJUaHVtYiB7XG4gIC8qKlxuICAgKiBBY2Nlc3MgdGhlIHNsaWRlci5cbiAgICovXG4gIHByb3RlY3RlZCByZWFkb25seSBzbGlkZXIgPSBpbmplY3RTbGlkZXIoKTtcblxuICAvKipcbiAgICogU3RvcmUgdGhlIGRyYWdnaW5nIHN0YXRlLlxuICAgKi9cbiAgcHJvdGVjdGVkIGRyYWdnaW5nID0gZmFsc2U7XG5cbiAgQEhvc3RMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBbJyRldmVudCddKVxuICBwcm90ZWN0ZWQgaGFuZGxlUG9pbnRlckRvd24oZXZlbnQ6IFBvaW50ZXJFdmVudCk6IHZvaWQge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAodGhpcy5zbGlkZXIuZGlzYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZHJhZ2dpbmcgPSB0cnVlO1xuICB9XG5cbiAgQEhvc3RMaXN0ZW5lcignZG9jdW1lbnQ6cG9pbnRlcnVwJylcbiAgcHJvdGVjdGVkIGhhbmRsZVBvaW50ZXJVcCgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zbGlkZXIuZGlzYWJsZWQoKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuZHJhZ2dpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OnBvaW50ZXJtb3ZlJywgWyckZXZlbnQnXSlcbiAgcHJvdGVjdGVkIGhhbmRsZVBvaW50ZXJNb3ZlKGV2ZW50OiBQb2ludGVyRXZlbnQpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5zbGlkZXIuZGlzYWJsZWQoKSB8fCAhdGhpcy5kcmFnZ2luZykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHJlY3QgPSB0aGlzLnNsaWRlci50cmFjaygpPy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBpZiAoIXJlY3QpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwZXJjZW50YWdlID1cbiAgICAgIHRoaXMuc2xpZGVyLm9yaWVudGF0aW9uKCkgPT09ICdob3Jpem9udGFsJ1xuICAgICAgICA/IChldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0KSAvIHJlY3Qud2lkdGhcbiAgICAgICAgOiAxIC0gKGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCkgLyByZWN0LmhlaWdodDtcblxuICAgIHRoaXMuc2xpZGVyLnZhbHVlLnNldChcbiAgICAgIHRoaXMuc2xpZGVyLm1pbigpICtcbiAgICAgICAgKHRoaXMuc2xpZGVyLm1heCgpIC0gdGhpcy5zbGlkZXIubWluKCkpICogTWF0aC5tYXgoMCwgTWF0aC5taW4oMSwgcGVyY2VudGFnZSkpLFxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlIGtleWJvYXJkIGV2ZW50cy5cbiAgICogQHBhcmFtIGV2ZW50XG4gICAqL1xuICBASG9zdExpc3RlbmVyKCdrZXlkb3duJywgWyckZXZlbnQnXSlcbiAgcHJvdGVjdGVkIGhhbmRsZUtleWRvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBtdWx0aXBsaWVyID0gZXZlbnQuc2hpZnRLZXkgPyAxMCA6IDE7XG5cbiAgICBzd2l0Y2ggKGV2ZW50LmtleSkge1xuICAgICAgY2FzZSAnQXJyb3dMZWZ0JzpcbiAgICAgIGNhc2UgJ0Fycm93RG93bic6XG4gICAgICAgIHRoaXMuc2xpZGVyLnZhbHVlLnVwZGF0ZSh2YWx1ZSA9PlxuICAgICAgICAgIE1hdGgubWF4KHZhbHVlIC0gdGhpcy5zbGlkZXIuc3RlcCgpICogbXVsdGlwbGllciwgdGhpcy5zbGlkZXIubWluKCkpLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0Fycm93UmlnaHQnOlxuICAgICAgY2FzZSAnQXJyb3dVcCc6XG4gICAgICAgIHRoaXMuc2xpZGVyLnZhbHVlLnVwZGF0ZSh2YWx1ZSA9PlxuICAgICAgICAgIE1hdGgubWluKHZhbHVlICsgdGhpcy5zbGlkZXIuc3RlcCgpICogbXVsdGlwbGllciwgdGhpcy5zbGlkZXIubWF4KCkpLFxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0hvbWUnOlxuICAgICAgICB0aGlzLnNsaWRlci52YWx1ZS5zZXQodGhpcy5zbGlkZXIubWluKCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ0VuZCc6XG4gICAgICAgIHRoaXMuc2xpZGVyLnZhbHVlLnNldCh0aGlzLnNsaWRlci5tYXgoKSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxufVxuIl19